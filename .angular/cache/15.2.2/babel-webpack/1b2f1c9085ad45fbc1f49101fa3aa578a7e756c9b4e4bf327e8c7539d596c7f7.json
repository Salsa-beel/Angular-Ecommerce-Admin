{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/products.service\";\nimport * as i2 from \"src/app/service/cart.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../select/select.component\";\nexport class ProductsComponent {\n  constructor(service, cartService) {\n    this.service = service;\n    this.cartService = cartService;\n    this.products = [];\n    this.categories = [];\n    this.cartProducts = []; // 3ayza ageb el data mn local storage w a7otaha fe array esmo cart fa hena 3arft el array\n  }\n\n  ngOnInit() {\n    this.getAllProducts();\n    this.getCategories();\n  }\n  addtoCart(event) {\n    //  JSON.stringify() //Send Data zy ma ana b3etha bzabt\n    //  JSON.parse()  //receive Data zy ma ana b3etha bzabt\n    if (\"cart\" in localStorage) {\n      this.cartProducts = JSON.parse(localStorage.getItem(\"cart\")); // hena my3rfsh eh el cart de asln mwgoda wla la fel local storage 3ashan ygeb mnha el data\n      let exist = this.cartProducts.find(item => item.item.id == event.item.id); // lw l2et ay item = el event id 5azeno fel exist\n      if (exist) {\n        alert(\" Product is already in your cart\");\n      } else {\n        this.cartProducts.push(event); // hena b push el products el 3ayzaha fel cart\n        localStorage.setItem(\"cart\", JSON.stringify(this.cartProducts)); //  hena b send kol el fel cart zy ma hwa mn gher tagheer\n      }\n    } else {\n      this.cartProducts.push(event); // hena b push el products el 3ayzaha fel cart\n      localStorage.setItem(\"cart\", JSON.stringify(this.cartProducts)); //  hena b send kol el fel cart zy ma hwa mn gher tagheer\n    }\n  }\n\n  getAllProducts() {\n    this.service.getAllProducts().subscribe(res => {\n      this.products = res; // kol da fe 7alet el success\n    }, error => {\n      alert(\"Error\"); // da fe 7alet el error\n    });\n  }\n\n  getCategories() {\n    this.service.getAllCategories().subscribe(res => {\n      console.log(res);\n      this.categories = res; // kol da fe 7alet el success\n    });\n    // }, error =>{\n    //   alert(\"Error\") // da fe 7alet el error\n    // }     )\n  }\n\n  filterCategory(event) {\n    let value = event.target.value;\n    if (value == \"all\") {\n      this.getAllProducts();\n    } else {\n      this.getProductsCategory(value);\n    }\n  }\n  AllCategory(event) {\n    let value = event.target.value;\n    this.getProductsCategory(value);\n  }\n  getProductsCategory(keyword) {\n    this.service.getProductsByCategory(keyword).subscribe(res => {\n      this.products = res;\n    });\n  }\n}\nProductsComponent.ɵfac = function ProductsComponent_Factory(t) {\n  return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.CartService));\n};\nProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductsComponent,\n  selectors: [[\"app-products\"]],\n  decls: 31,\n  vars: 2,\n  consts: [[1, \"container-fluid\"], [1, \"my-2\", \"mx-5\", \"w-25\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModelLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [\"action\", \"\"], [1, \"row\"], [1, \"col-md-4\", \"col-sm-12\"], [\"for\", \"\"], [\"type\", \"text\", \"placeholder\", \"title\", 1, \"form-control\"], [\"type\", \"number\", \"placeholder\", \"price\", 1, \"form-control\"], [3, \"data\", \"title\", \"selectedValue\"], [\"for\", \"image\"], [\"src\", \"\", \"alt\", \"\"], [\"type\", \"file\", 1, \"form-control\"], [\"type\", \"text\", \"placeholder\", \"type here ...\", 1, \"form-control\"]],\n  template: function ProductsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h5\", 4);\n      i0.ɵɵtext(5, \"Add Product\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 5)(7, \"span\", 6);\n      i0.ɵɵtext(8, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"div\", 7)(10, \"form\", 8)(11, \"div\", 9)(12, \"div\", 10)(13, \"label\", 11);\n      i0.ɵɵtext(14, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 10)(17, \"label\", 11);\n      i0.ɵɵtext(18, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(19, \"input\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 10)(21, \"app-select\", 14);\n      i0.ɵɵlistener(\"selectedValue\", function ProductsComponent_Template_app_select_selectedValue_21_listener() {\n        return ctx.getSelected;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"div\", 10)(23, \"label\", 15);\n      i0.ɵɵtext(24, \"Image\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"img\", 16)(26, \"input\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 10)(28, \"label\", 11);\n      i0.ɵɵtext(29, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(30, \"input\", 18);\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"data\", ctx.categories)(\"title\", ctx.Categories);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i4.SelectComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["ProductsComponent","constructor","service","cartService","ngOnInit","getAllProducts","getCategories","addtoCart","event","localStorage","cartProducts","JSON","parse","getItem","exist","find","item","id","alert","push","setItem","stringify","subscribe","res","products","error","getAllCategories","console","log","categories","filterCategory","value","target","getProductsCategory","AllCategory","keyword","getProductsByCategory","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["/Users/salsabeel/Desktop/Angular-Ecommerce-Admin/src/app/Components/products/products.component.ts","/Users/salsabeel/Desktop/Angular-Ecommerce-Admin/src/app/Components/products/products.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ProductsService } from 'src/app/service/products.service';\nimport { CartService } from 'src/app/service/cart.service';\nimport { JsonPipe } from '@angular/common';\nimport { Product } from 'src/app/Models/product';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\nexport class ProductsComponent implements OnInit {\n\nproducts : Product [] = [];\ncategories :string[]=[];\ngrandTotal: any;\ncartProducts:any[] = []; // 3ayza ageb el data mn local storage w a7otaha fe array esmo cart fa hena 3arft el array\n\n  constructor( private service :ProductsService, private cartService :CartService ) { }\n\n  ngOnInit():void {\n    this.getAllProducts()\n    this.getCategories()\n  }\n\n\n  addtoCart(event: any){\n\n\n    //  JSON.stringify() //Send Data zy ma ana b3etha bzabt\n    //  JSON.parse()  //receive Data zy ma ana b3etha bzabt\n    if (\"cart\" in localStorage){\n      this.cartProducts = JSON.parse(localStorage.getItem(\"cart\")!) // hena my3rfsh eh el cart de asln mwgoda wla la fel local storage 3ashan ygeb mnha el data\n      let exist = this.cartProducts.find(item => item.item.id == event.item.id) // lw l2et ay item = el event id 5azeno fel exist\n      if(exist){\n        alert(\" Product is already in your cart\")\n      }else {\n        this.cartProducts.push(event) // hena b push el products el 3ayzaha fel cart\n        localStorage.setItem(\"cart\", JSON.stringify(this.cartProducts)) //  hena b send kol el fel cart zy ma hwa mn gher tagheer\n        }\n     }\n      else {\n        this.cartProducts.push(event) // hena b push el products el 3ayzaha fel cart\n      localStorage.setItem(\"cart\", JSON.stringify(this.cartProducts)) //  hena b send kol el fel cart zy ma hwa mn gher tagheer\n\n      }\n\n  }\n\n\n\n\n\n\n  getAllProducts(){\n    this.service.getAllProducts().subscribe((res:any)=>{\n\n    this.products=res // kol da fe 7alet el success\n  }, error =>{\n    alert(\"Error\") // da fe 7alet el error\n  }     )\n  }\n\n\n  getCategories(){\n    this.service.getAllCategories().subscribe((res:any)=>{\n      console.log(res)\n    this.categories=res  // kol da fe 7alet el success\n    })\n  // }, error =>{\n  //   alert(\"Error\") // da fe 7alet el error\n  // }     )\n  }\n\n  filterCategory(event : any) {\n\n    let value = event.target.value;\n    if(value == \"all\")\n    {\n      this.getAllProducts()\n    } else {\n      this.getProductsCategory(value)\n    }\n\n  }\n\n  AllCategory(event : any) {\n\n    let value = event.target.value;\n    this.getProductsCategory(value)\n\n  }\n\n  getProductsCategory(keyword : string){\n\n    this.service.getProductsByCategory(keyword).subscribe( (res: any) =>{\n      this.products = res\n\n    })\n  }\n\n\n\n}\n","<div class=\"container-fluid\">\n\n  <div class=\"my-2 mx-5 w-25 \">\n\n    <!-- select component -->\n\n    <!-- <app-select [data]=\"categories\" [title]=\"'categories'\" (selectedValue)=\"filterCategory($event)\">\n    </app-select>\n\n  </div>\n\n\n\n  <div class=\"row m-5\">\n\n    <div class=\"col-md-4 col-sm-12\" *ngFor=\"let item of products\">\n\n      <app-OneProduct [data]=\"item\" (item)=\"addtoCart($event)\"></app-OneProduct>\n    </div> -->\n\n    <div class=\"modal-content\">\n\n      <div class=\"modal-header\">\n\n        <h5 class=\"modal-title\" id=\"exampleModelLabel\">Add Product</h5>\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\" >&times;</span>\n        </button>\n\n      </div>\n\n      <div class=\"modal-body\">\n\n        <form action=\"\">\n          <div class=\"row\">\n\n            <div class=\"col-md-4 col-sm-12\">\n              <label for=\"\">Title</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"title\">\n            </div>\n\n\n            <div class=\"col-md-4 col-sm-12\">\n              <label for=\"\">Price</label>\n              <input type=\"number\" class=\"form-control\" placeholder=\"price\">\n            </div>\n\n            <div class=\"col-md-4 col-sm-12\">\n              <app-select [data]=\"categories\" [title]=\"Categories\" (selectedValue)=\"getSelected\"></app-select>\n            </div>\n\n            <div class=\"col-md-4 col-sm-12\">\n              <label for=\"image\">Image</label>\n              <img src=\"\" alt=\"\">\n              <input type=\"file\" class=\"form-control\">\n            </div>\n\n            <div class=\"col-md-4 col-sm-12\">\n              <label for=\"\">Description</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"type here ...\">\n            </div>\n\n          </div>\n        </form>\n\n      </div>\n\n    </div>\n\n  </div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}